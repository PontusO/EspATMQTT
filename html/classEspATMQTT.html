<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The ESP-AT MQTT library project: EspATMQTT Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The ESP-AT MQTT library project
   </div>
   <div id="projectbrief">A simple wrapper to the MQTT functionality found in the ESP-AT interpreter</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classEspATMQTT-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">EspATMQTT Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>EspAT MQTT <a class="el" href="classEspATMQTT.html" title="EspAT MQTT EspATMQTT class definition.">EspATMQTT</a> class definition.  
 <a href="classEspATMQTT.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="EspATMQTT_8h_source.html">EspATMQTT.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for EspATMQTT:</div>
<div class="dyncontent">
<div class="center"><img src="classEspATMQTT__coll__graph.png" border="0" usemap="#EspATMQTT_coll__map" alt="Collaboration graph"/></div>
<map name="EspATMQTT_coll__map" id="EspATMQTT_coll__map">
<area shape="rect" title="EspAT MQTT EspATMQTT class definition." alt="" coords="5,95,105,121"/>
<area shape="rect" href="classAT__Class.html" title="EspAT MQTT AT_Class definition." alt="" coords="15,5,96,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a866cdfd06d35f16961ecf6341ac09025"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a866cdfd06d35f16961ecf6341ac09025">EspATMQTT</a> (HardwareSerial *=&amp;ESP_SERIAL_PORT)</td></tr>
<tr class="memdesc:a866cdfd06d35f16961ecf6341ac09025"><td class="mdescLeft">&#160;</td><td class="mdescRight">The module constructor allows you to select what serial port that should be used to communicate with the ESP-AT module.  <a href="classEspATMQTT.html#a866cdfd06d35f16961ecf6341ac09025">More...</a><br /></td></tr>
<tr class="separator:a866cdfd06d35f16961ecf6341ac09025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97a6b0b76519d2c66f88e63f0ab03191"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a97a6b0b76519d2c66f88e63f0ab03191">begin</a> ()</td></tr>
<tr class="memdesc:a97a6b0b76519d2c66f88e63f0ab03191"><td class="mdescLeft">&#160;</td><td class="mdescRight">The begin method initializes the system before usage.  <a href="classEspATMQTT.html#a97a6b0b76519d2c66f88e63f0ab03191">More...</a><br /></td></tr>
<tr class="separator:a97a6b0b76519d2c66f88e63f0ab03191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebd4ec0e4036b283d911e9b4c4de7e91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#aebd4ec0e4036b283d911e9b4c4de7e91">userConfig</a> (uint32_t linkID, mqtt_scheme_t scheme, const char *clientID, const char *userName=&quot;&quot;, const char *password=&quot;&quot;, uint32_t certKeyID=0, uint32_t caID=0, const char *path=&quot;&quot;)</td></tr>
<tr class="memdesc:aebd4ec0e4036b283d911e9b4c4de7e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the connection scheme and how to connect to the server/broker.  <a href="classEspATMQTT.html#aebd4ec0e4036b283d911e9b4c4de7e91">More...</a><br /></td></tr>
<tr class="separator:aebd4ec0e4036b283d911e9b4c4de7e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16710ca14260976f0b1b7db39da34d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#aa16710ca14260976f0b1b7db39da34d1">userConfig</a> (uint32_t linkID, mqtt_scheme_t scheme, char *clientID, const char *userName=&quot;&quot;, const char *password=&quot;&quot;, uint32_t certKeyID=0, uint32_t caID=0, const char *path=&quot;&quot;)</td></tr>
<tr class="memdesc:aa16710ca14260976f0b1b7db39da34d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the connection scheme and how to connect to the server/broker.  <a href="classEspATMQTT.html#aa16710ca14260976f0b1b7db39da34d1">More...</a><br /></td></tr>
<tr class="separator:aa16710ca14260976f0b1b7db39da34d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6600503df7e04f882ff7571a3207446"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#ab6600503df7e04f882ff7571a3207446">userConfig</a> (uint32_t linkID, mqtt_scheme_t scheme, char *clientID, char *userName, char *password, uint32_t certKeyID=0, uint32_t caID=0, const char *path=&quot;&quot;)</td></tr>
<tr class="memdesc:ab6600503df7e04f882ff7571a3207446"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the connection scheme and how to connect to the server/broker.  <a href="classEspATMQTT.html#ab6600503df7e04f882ff7571a3207446">More...</a><br /></td></tr>
<tr class="separator:ab6600503df7e04f882ff7571a3207446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e901eebb623f6abd84d1c5edf9f05c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a8e901eebb623f6abd84d1c5edf9f05c9">connect</a> (uint32_t linkID, const char *host, uint32_t port=1883, uint32_t reconnect=0, uint32_t timeout=5000, <a class="el" href="EspATMQTT_8h.html#a691f101473dec472429b0e6822ea5b63">connected_cb_t</a> cb=NULL)</td></tr>
<tr class="memdesc:a8e901eebb623f6abd84d1c5edf9f05c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects to the specified server/broker with the previously defined transport scheme.  <a href="classEspATMQTT.html#a8e901eebb623f6abd84d1c5edf9f05c9">More...</a><br /></td></tr>
<tr class="separator:a8e901eebb623f6abd84d1c5edf9f05c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f7f85c5e9e79395672f57f09d38513"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a29f7f85c5e9e79395672f57f09d38513">setClientID</a> (uint32_t linkID, const char *clientID)</td></tr>
<tr class="memdesc:a29f7f85c5e9e79395672f57f09d38513"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new client ID for the connection.  <a href="classEspATMQTT.html#a29f7f85c5e9e79395672f57f09d38513">More...</a><br /></td></tr>
<tr class="separator:a29f7f85c5e9e79395672f57f09d38513"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372b1a4bb5d918ca75ddeb62e3ecd0c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a372b1a4bb5d918ca75ddeb62e3ecd0c1">setClientID</a> (uint32_t linkID, char *clientID)</td></tr>
<tr class="memdesc:a372b1a4bb5d918ca75ddeb62e3ecd0c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a new client ID for the connection.  <a href="classEspATMQTT.html#a372b1a4bb5d918ca75ddeb62e3ecd0c1">More...</a><br /></td></tr>
<tr class="separator:a372b1a4bb5d918ca75ddeb62e3ecd0c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2d17760f726282b1f0755d29d26bb9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#aee2d17760f726282b1f0755d29d26bb9">setUsername</a> (uint32_t linkID, const char *username)</td></tr>
<tr class="memdesc:aee2d17760f726282b1f0755d29d26bb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the username used in authenticating the client with the broker.  <a href="classEspATMQTT.html#aee2d17760f726282b1f0755d29d26bb9">More...</a><br /></td></tr>
<tr class="separator:aee2d17760f726282b1f0755d29d26bb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef5cb29eef50a62528bd726dadf95dfd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#aef5cb29eef50a62528bd726dadf95dfd">setUsername</a> (uint32_t linkID, char *username)</td></tr>
<tr class="memdesc:aef5cb29eef50a62528bd726dadf95dfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the username used in authenticating the client with the broker.  <a href="classEspATMQTT.html#aef5cb29eef50a62528bd726dadf95dfd">More...</a><br /></td></tr>
<tr class="separator:aef5cb29eef50a62528bd726dadf95dfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed53237de600fa142eef5e00c18f7dd2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#aed53237de600fa142eef5e00c18f7dd2">setPassword</a> (uint32_t linkID, const char *password)</td></tr>
<tr class="memdesc:aed53237de600fa142eef5e00c18f7dd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the password used in authenticating the client with the broker.  <a href="classEspATMQTT.html#aed53237de600fa142eef5e00c18f7dd2">More...</a><br /></td></tr>
<tr class="separator:aed53237de600fa142eef5e00c18f7dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c7a8d401b869c1034f07de14660714d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a6c7a8d401b869c1034f07de14660714d">setPassword</a> (uint32_t linkID, char *password)</td></tr>
<tr class="memdesc:a6c7a8d401b869c1034f07de14660714d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the password used in authenticating the client with the broker.  <a href="classEspATMQTT.html#a6c7a8d401b869c1034f07de14660714d">More...</a><br /></td></tr>
<tr class="separator:a6c7a8d401b869c1034f07de14660714d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b75265ad81ec9d0f7482bc2589167a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#ad9b75265ad81ec9d0f7482bc2589167a">connectionConfig</a> (uint32_t linkID, uint32_t keepalive, uint32_t disable_clean_session, const char *lwt_topic, const char *lwt_message, uint32_t lwt_qos=0, uint32_t lwt_retain=0)</td></tr>
<tr class="memdesc:ad9b75265ad81ec9d0f7482bc2589167a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the configuration of the current MQTT connection.  <a href="classEspATMQTT.html#ad9b75265ad81ec9d0f7482bc2589167a">More...</a><br /></td></tr>
<tr class="separator:ad9b75265ad81ec9d0f7482bc2589167a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66a3c2c376eaeac2764e76447a6d126"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#ad66a3c2c376eaeac2764e76447a6d126">setALPN</a> (uint32_t linkID, const char *alpn1=NULL, const char *alpn2=NULL, const char *alpn3=NULL, const char *alpn4=NULL, const char *alpn5=NULL)</td></tr>
<tr class="memdesc:ad66a3c2c376eaeac2764e76447a6d126"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the ALPN (Application Layer Protocol Negotiation) of the link.  <a href="classEspATMQTT.html#ad66a3c2c376eaeac2764e76447a6d126">More...</a><br /></td></tr>
<tr class="separator:ad66a3c2c376eaeac2764e76447a6d126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec75f194b7cbb49180c37db02614f51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a8ec75f194b7cbb49180c37db02614f51">pubString</a> (uint32_t linkID, const char *topic, const char *data, uint32_t qos=0, uint32_t retain=0)</td></tr>
<tr class="memdesc:a8ec75f194b7cbb49180c37db02614f51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a string to a specified topic.  <a href="classEspATMQTT.html#a8ec75f194b7cbb49180c37db02614f51">More...</a><br /></td></tr>
<tr class="separator:a8ec75f194b7cbb49180c37db02614f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4ce3e31c7ee2b92bd2ab6b086e6614"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#abf4ce3e31c7ee2b92bd2ab6b086e6614">pubString</a> (uint32_t linkID, const char *topic, char *data, uint32_t qos=0, uint32_t retain=0)</td></tr>
<tr class="memdesc:abf4ce3e31c7ee2b92bd2ab6b086e6614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish a string to a specified topic.  <a href="classEspATMQTT.html#abf4ce3e31c7ee2b92bd2ab6b086e6614">More...</a><br /></td></tr>
<tr class="separator:abf4ce3e31c7ee2b92bd2ab6b086e6614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a426a11356f7f03123bab6df4a4ec079e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a426a11356f7f03123bab6df4a4ec079e">pubRaw</a> (uint32_t linkID, const char *topic, const char *data, uint32_t qos=0, uint32_t retain=0)</td></tr>
<tr class="memdesc:a426a11356f7f03123bab6df4a4ec079e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish raw data to a specified topic.  <a href="classEspATMQTT.html#a426a11356f7f03123bab6df4a4ec079e">More...</a><br /></td></tr>
<tr class="separator:a426a11356f7f03123bab6df4a4ec079e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fbf5bce3285f51377c35908b86b4712"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a9fbf5bce3285f51377c35908b86b4712">pubRaw</a> (uint32_t linkID, const char *topic, char *data, uint32_t qos=0, uint32_t retain=0)</td></tr>
<tr class="memdesc:a9fbf5bce3285f51377c35908b86b4712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish raw data to a specified topic.  <a href="classEspATMQTT.html#a9fbf5bce3285f51377c35908b86b4712">More...</a><br /></td></tr>
<tr class="separator:a9fbf5bce3285f51377c35908b86b4712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a806a4a6b9d83342faa74119673495c47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a806a4a6b9d83342faa74119673495c47">subscribeTopic</a> (<a class="el" href="EspATMQTT_8h.html#af7cb6dd5ee13867fe8cf3b40b0ef2ac7">subscription_cb_t</a> cb, uint32_t linkID, const char *topic, uint32_t qos=0)</td></tr>
<tr class="memdesc:a806a4a6b9d83342faa74119673495c47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe to messages from a specific topic.  <a href="classEspATMQTT.html#a806a4a6b9d83342faa74119673495c47">More...</a><br /></td></tr>
<tr class="separator:a806a4a6b9d83342faa74119673495c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f1a5b91e663381da3dedfd5fe1b47f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#aa2f1a5b91e663381da3dedfd5fe1b47f">subscribeTopic</a> (<a class="el" href="EspATMQTT_8h.html#af7cb6dd5ee13867fe8cf3b40b0ef2ac7">subscription_cb_t</a> cb, uint32_t linkID, char *topic, uint32_t qos=0)</td></tr>
<tr class="memdesc:aa2f1a5b91e663381da3dedfd5fe1b47f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe to messages from a specific topic.  <a href="classEspATMQTT.html#aa2f1a5b91e663381da3dedfd5fe1b47f">More...</a><br /></td></tr>
<tr class="separator:aa2f1a5b91e663381da3dedfd5fe1b47f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41fad78c34bbd86176eef929be9c4685"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a41fad78c34bbd86176eef929be9c4685">unSubscribeTopic</a> (uint32_t linkID, const char *topic)</td></tr>
<tr class="memdesc:a41fad78c34bbd86176eef929be9c4685"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribe from messages with a specific topic.  <a href="classEspATMQTT.html#a41fad78c34bbd86176eef929be9c4685">More...</a><br /></td></tr>
<tr class="separator:a41fad78c34bbd86176eef929be9c4685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf1e9b9a591e154451130b35489ae95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#aabf1e9b9a591e154451130b35489ae95">unSubscribeTopic</a> (uint32_t linkID, char *topic)</td></tr>
<tr class="memdesc:aabf1e9b9a591e154451130b35489ae95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribe from messages with a specific topic.  <a href="classEspATMQTT.html#aabf1e9b9a591e154451130b35489ae95">More...</a><br /></td></tr>
<tr class="separator:aabf1e9b9a591e154451130b35489ae95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b50dbee89d67c668f6af159ae619d60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a5b50dbee89d67c668f6af159ae619d60">close</a> (uint32_t linkID)</td></tr>
<tr class="memdesc:a5b50dbee89d67c668f6af159ae619d60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close (all) conection/s with the specified link ID.  <a href="classEspATMQTT.html#a5b50dbee89d67c668f6af159ae619d60">More...</a><br /></td></tr>
<tr class="separator:a5b50dbee89d67c668f6af159ae619d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c347e4dd4dbeebac73be3c1d319efc9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a9c347e4dd4dbeebac73be3c1d319efc9">enableNTPTime</a> (bool enable, <a class="el" href="EspATMQTT_8h.html#ab0e9ac3766690ec0233fa2d9342f0368">validDateTime_cb_t</a> cb, uint32_t timezone, const char *ts1=NULL, const char *ts2=NULL, const char *ts3=NULL)</td></tr>
<tr class="memdesc:a9c347e4dd4dbeebac73be3c1d319efc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the internal NTP Time client.  <a href="classEspATMQTT.html#a9c347e4dd4dbeebac73be3c1d319efc9">More...</a><br /></td></tr>
<tr class="separator:a9c347e4dd4dbeebac73be3c1d319efc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f2eabe34e1e301f8e0553cb46c3c5b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a8f2eabe34e1e301f8e0553cb46c3c5b2">getNTPTime</a> (char **time)</td></tr>
<tr class="memdesc:a8f2eabe34e1e301f8e0553cb46c3c5b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current time from the ESP-AT internal NTP Client.  <a href="classEspATMQTT.html#a8f2eabe34e1e301f8e0553cb46c3c5b2">More...</a><br /></td></tr>
<tr class="separator:a8f2eabe34e1e301f8e0553cb46c3c5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019d0b292130ca7fbfdef1355e55ab18"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#a019d0b292130ca7fbfdef1355e55ab18">isConnected</a> ()</td></tr>
<tr class="memdesc:a019d0b292130ca7fbfdef1355e55ab18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks to see if the mqtt client is connected and returns true if it is.  <a href="classEspATMQTT.html#a019d0b292130ca7fbfdef1355e55ab18">More...</a><br /></td></tr>
<tr class="separator:a019d0b292130ca7fbfdef1355e55ab18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad595b0473a1d3ac3e501a06702483b2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classEspATMQTT.html#ad595b0473a1d3ac3e501a06702483b2c">process</a> ()</td></tr>
<tr class="memdesc:ad595b0473a1d3ac3e501a06702483b2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The process method must be placed in the main loop in order to process MQTT events that are reported by the ESP-AT device.  <a href="classEspATMQTT.html#ad595b0473a1d3ac3e501a06702483b2c">More...</a><br /></td></tr>
<tr class="separator:ad595b0473a1d3ac3e501a06702483b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a49e6e289334c3ac178fef7aad668f8e3"><td class="memItemLeft" align="right" valign="top"><a id="a49e6e289334c3ac178fef7aad668f8e3"></a>
<a class="el" href="classAT__Class.html">AT_Class</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>at</b></td></tr>
<tr class="separator:a49e6e289334c3ac178fef7aad668f8e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6221ab934f1ceb609d4764ec761cfc86"><td class="memItemLeft" align="right" valign="top"><a id="a6221ab934f1ceb609d4764ec761cfc86"></a>
<a class="el" href="EspATMQTT_8h.html#af7cb6dd5ee13867fe8cf3b40b0ef2ac7">subscription_cb_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>subscription_cb</b></td></tr>
<tr class="separator:a6221ab934f1ceb609d4764ec761cfc86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec23922a2c04d0bac4c65e1b003d7658"><td class="memItemLeft" align="right" valign="top"><a id="aec23922a2c04d0bac4c65e1b003d7658"></a>
<a class="el" href="EspATMQTT_8h.html#ab0e9ac3766690ec0233fa2d9342f0368">validDateTime_cb_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>validDateTime_cb</b></td></tr>
<tr class="separator:aec23922a2c04d0bac4c65e1b003d7658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73fc42a5ec350a7238951c2d300c9218"><td class="memItemLeft" align="right" valign="top"><a id="a73fc42a5ec350a7238951c2d300c9218"></a>
<a class="el" href="EspATMQTT_8h.html#a9b3ace9a2f2471bf131260aa92005462">mqtt_connectType_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>connType</b></td></tr>
<tr class="separator:a73fc42a5ec350a7238951c2d300c9218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8497194b83acbd07b02214a05fda15f7"><td class="memItemLeft" align="right" valign="top"><a id="a8497194b83acbd07b02214a05fda15f7"></a>
<a class="el" href="EspATMQTT_8h.html#a691f101473dec472429b0e6822ea5b63">connected_cb_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>connected_cb</b></td></tr>
<tr class="separator:a8497194b83acbd07b02214a05fda15f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1086a32de06598268ef9a06dcf0cfc83"><td class="memItemLeft" align="right" valign="top"><a id="a1086a32de06598268ef9a06dcf0cfc83"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>topicSubscriptions</b></td></tr>
<tr class="separator:a1086a32de06598268ef9a06dcf0cfc83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d683a71604255f150a62a3bfd4ae26c"><td class="memItemLeft" align="right" valign="top"><a id="a6d683a71604255f150a62a3bfd4ae26c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>connected</b></td></tr>
<tr class="separator:a6d683a71604255f150a62a3bfd4ae26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e436e616134bbc4ce5f47b74c6d992"><td class="memItemLeft" align="right" valign="top"><a id="ad3e436e616134bbc4ce5f47b74c6d992"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>ntpTimeValid</b></td></tr>
<tr class="separator:ad3e436e616134bbc4ce5f47b74c6d992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f9667450b015c0d494d7b125f80c94"><td class="memItemLeft" align="right" valign="top"><a id="a74f9667450b015c0d494d7b125f80c94"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>buff</b> [MQTT_BUFFER_SIZE]</td></tr>
<tr class="separator:a74f9667450b015c0d494d7b125f80c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>EspAT MQTT <a class="el" href="classEspATMQTT.html" title="EspAT MQTT EspATMQTT class definition.">EspATMQTT</a> class definition. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a866cdfd06d35f16961ecf6341ac09025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866cdfd06d35f16961ecf6341ac09025">&#9670;&nbsp;</a></span>EspATMQTT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EspATMQTT::EspATMQTT </td>
          <td>(</td>
          <td class="paramtype">HardwareSerial *&#160;</td>
          <td class="paramname"><em>serial</em> = <code>&amp;ESP_SERIAL_PORT</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The module constructor allows you to select what serial port that should be used to communicate with the ESP-AT module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">-</td><td>serial The serial port that is connected to the ESP-AT module. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a97a6b0b76519d2c66f88e63f0ab03191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97a6b0b76519d2c66f88e63f0ab03191">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The begin method initializes the system before usage. </p>
<p>It must be called before running any other methods of this library.</p>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a5b50dbee89d67c668f6af159ae619d60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b50dbee89d67c668f6af159ae619d60">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::close </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close (all) conection/s with the specified link ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a8e901eebb623f6abd84d1c5edf9f05c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e901eebb623f6abd84d1c5edf9f05c9">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::connect </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>port</em> = <code>1883</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>reconnect</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>5000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="EspATMQTT_8h.html#a691f101473dec472429b0e6822ea5b63">connected_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connects to the specified server/broker with the previously defined transport scheme. </p>
<p>If an active connection is established within the specified timeout it reports ESP_AT_SUB_CMD_CONN_SYNCH back but if a timeout occured before an active connection could be made it reports ESP_AT_SUB_CMD_CONN_ASYNCH and the caller needs to either check the connection with <a class="el" href="classEspATMQTT.html#a019d0b292130ca7fbfdef1355e55ab18" title="Checks to see if the mqtt client is connected and returns true if it is.">isConnected()</a> or setup a callback function that will be called when the connection is made active</p>
<p>Tip: Specifying a very short timout (~50mS) will in most cases cause the method to return with ESP_AT_SUB_CMD_CONN_ASYNCH and a callback will later be called when the connection is established. This can be used to your advantage if you do not want to let the system hang while waiting for a connection to be made. As an example, connecting to AWS can take several seconds which would potentially lock your system all that time. One downside with this is that the calling application will need to keep track of the callback and possibly generate an error condition if it doesn't arrive within a specified time.<br  />
 The later can be avoided by actually specifying a very large timeout, maybe 10 seconds or more, and try to force a synchronous connection. In that case a timeout condition can be detected when ESP_AT_SUB_CMD_CONN_ASYNCH is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>host The host name of the MQTT broker. This can be specified as an IP address or a URL. Maximum length of this string is 128 bytes.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>port The port where the broker will listen to requests. The default port is 1883 which is the default for a mosquitto server.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>reconnect Used to tell the ESP-AT device to automaticall reconnect id a connection is lost.<br  />
<ul>
<li>0 = Do not reconnect.<br  />
</li>
<li>1 = Automatically reconnect when a connection is lost.<br  />
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>timeout The caller can specify a connection timeout value here. The default timeout is 2 seconds.<br  />
 The method will initially try to connect synchronously, i.e return with an active connection. If a timeout occurs during the connection process it will initialize a call back function (if specified) which is called by the <a class="el" href="classEspATMQTT.html#ad595b0473a1d3ac3e501a06702483b2c" title="The process method must be placed in the main loop in order to process MQTT events that are reported ...">process()</a> command when a connection is established.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>cb This is the callback function that shall be called by the <a class="el" href="classEspATMQTT.html#ad595b0473a1d3ac3e501a06702483b2c" title="The process method must be placed in the main loop in order to process MQTT events that are reported ...">process()</a> method when a connection is made assuming the <a class="el" href="classEspATMQTT.html#a8e901eebb623f6abd84d1c5edf9f05c9" title="Connects to the specified server/broker with the previously defined transport scheme.">connect()</a> method reported ESP_AT_SUB_CMD_CONN_ASYNCH back.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="ad9b75265ad81ec9d0f7482bc2589167a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9b75265ad81ec9d0f7482bc2589167a">&#9670;&nbsp;</a></span>connectionConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::connectionConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>keepalive</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>disable_clean_session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lwt_topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>lwt_message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lwt_qos</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lwt_retain</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the configuration of the current MQTT connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>keepalive Timeout of MQTT ping. Unit: second. Range [0,7200].<br  />
 The default value is 0, which will be force-changed to 120 s.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>disable_clean_session Sets the MQTT clean session propery.<br  />
 For more details about this parameter we recommend reading the section Clean Session in MQTT Version 3.1.1.<br  />
<ul>
<li>0: enable clean session.<br  />
</li>
<li>1: disable clean session.<br  />
</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>lwt_topic Sets the topic of the last will and testament message. Maximum number of characters allowed for this topic is 128.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>lwt_message Sets the last will and testament message. Maximum length of the message is 64 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>lwt_qos Sets the Quality of Service plan for the last will and testament message. Can be set to 0, 1 or and the default setting is 0.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>lwt_retain Sets the retain parameter of the last will and testament message. Can be set to 0 or 1 and the default setting is 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a9c347e4dd4dbeebac73be3c1d319efc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c347e4dd4dbeebac73be3c1d319efc9">&#9670;&nbsp;</a></span>enableNTPTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::enableNTPTime </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="EspATMQTT_8h.html#ab0e9ac3766690ec0233fa2d9342f0368">validDateTime_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timezone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ts1</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ts2</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ts3</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the internal NTP Time client. </p>
<p>Up to 3 different time servers can be specified to support quick multi regional time resolution. If no external time servers are specified on of the following time servers will be used instead:<br  />
</p><ul>
<li>“cn.ntp.org.cn”</li>
<li>“ntp.sjtu.edu.cn”</li>
<li>“us.pool.ntp.org”</li>
</ul>
<p>When using a secure connection mechanism (TLS) the NTP client can be used to acquire the current date and time which is required by the TLS protocol. When the time has been acquired from a time server a call back is generated and the connection to the mqtt server can be made.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>enable Enable or disable the NTP client. A "0" in this parameter will disable the client completely and a "1" is required if the NTP client should be enabled.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>cb A pointer to a callback method that is called when a valid date and time has been acquired from an NTP server. If this is NULL, no call back will be made and the caller has to examine the time to determine when a valid date/time has been acquired.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>timezone This parameter support the following two formats:<br  />
<ul>
<li>Value range -12 to 14. It marks most of the time zones by offset from Coordinated Universal Time (UTC) in whole hours (UTC–12:00 to UTC+14:00).<br  />
</li>
<li>The second format is UTC offset. The UTC offset specifies the time value you must add to the UTC time to get a local time value. It has a syntax like [+|-][hh]mm. This is negative if the local time zone is on the west of the Prime Meridian and positive if it is on the east. The hour(hh) must be between -12 and 14, and the minute(mm) between 0 and 59. For example, if you want to set the timezone to New Zealand (Chatham Islands) which is in UTC+12:45, you should set the parameter to 1245. Please refer to UTC offset wiki (<a href="https://en.wikipedia.org/wiki/Time_zone#List_of_UTC_offsets">https://en.wikipedia.org/wiki/Time_zone#List_of_UTC_offsets</a>) for more information.</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>ts1 - ts3 Time server URL's, for instance "time.google.com" or "0.pool.ntp.org"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a8f2eabe34e1e301f8e0553cb46c3c5b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f2eabe34e1e301f8e0553cb46c3c5b2">&#9670;&nbsp;</a></span>getNTPTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::getNTPTime </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current time from the ESP-AT internal NTP Client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">-</td><td>time The current time as reported by the ESP-AT internal NTP client. If the NTP client has not been enabled an error will be returned. The time is reported back as a character string (An Example: "Tue Oct 19 17:47:56 2021") and the caller need to decode it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a019d0b292130ca7fbfdef1355e55ab18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a019d0b292130ca7fbfdef1355e55ab18">&#9670;&nbsp;</a></span>isConnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EspATMQTT::isConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks to see if the mqtt client is connected and returns true if it is. </p>
<dl class="section return"><dt>Returns</dt><dd>- true or false depending on the current connection status. </dd></dl>

</div>
</div>
<a id="ad595b0473a1d3ac3e501a06702483b2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad595b0473a1d3ac3e501a06702483b2c">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EspATMQTT::process </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The process method must be placed in the main loop in order to process MQTT events that are reported by the ESP-AT device. </p>
<p>If not present the library will not function as expected. </p>

</div>
</div>
<a id="a9fbf5bce3285f51377c35908b86b4712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fbf5bce3285f51377c35908b86b4712">&#9670;&nbsp;</a></span>pubRaw() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::pubRaw </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>qos</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>retain</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish raw data to a specified topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>topic The topic where the message shold be published.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>message The message that should be published to the specified topic. Must be a '\0' terminated string.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>qos The Quality of Service value that should be used for this message.<br  />
 The following values are recognized:<br  />
<ul>
<li>0 - At most once:<br  />
The minimal QoS level is zero. This service level guarantees a best-effort delivery. There is no guarantee of delivery. The recipient does not acknowledge receipt of the message and the message is not stored and re-transmitted by the sender. QoS level 0 is often called “fire and forget” and provides the same guarantee as the underlying TCP protocol.</li>
<li>1 - At least once:<br  />
QoS level 1 guarantees that a message is delivered at least one time to the receiver. The sender stores the message until it gets a PUBACK packet from the receiver that acknowledges receipt of the message. It is possible for a message to be sent or delivered multiple times.</li>
<li>2 - Exactly once:<br  />
QoS 2 is the highest level of service in MQTT. This level guarantees that each message is received only once by the intended recipients. QoS 2 is the safest and slowest quality of service level.</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>retain A retained message is a normal MQTT message with the retained flag set to true (= 1). The broker stores the last retained message and the corresponding QoS for that topic. See <a class="el" href="EspATMQTT_8h.html#aeb74fb65cde0c75e6acd3c4dc2bb6fc9" title="A retained message is a normal MQTT message with the retained flag set to true.">mqtt_retain_e</a> for more details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a426a11356f7f03123bab6df4a4ec079e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a426a11356f7f03123bab6df4a4ec079e">&#9670;&nbsp;</a></span>pubRaw() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::pubRaw </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>qos</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>retain</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish raw data to a specified topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>topic The topic where the message shold be published.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>message The message that should be published to the specified topic. Must be a '\0' terminated string.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>qos The Quality of Service value that should be used for this message.<br  />
 The following values are recognized:<br  />
<ul>
<li>0 - At most once:<br  />
The minimal QoS level is zero. This service level guarantees a best-effort delivery. There is no guarantee of delivery. The recipient does not acknowledge receipt of the message and the message is not stored and re-transmitted by the sender. QoS level 0 is often called “fire and forget” and provides the same guarantee as the underlying TCP protocol.</li>
<li>1 - At least once:<br  />
QoS level 1 guarantees that a message is delivered at least one time to the receiver. The sender stores the message until it gets a PUBACK packet from the receiver that acknowledges receipt of the message. It is possible for a message to be sent or delivered multiple times.</li>
<li>2 - Exactly once:<br  />
QoS 2 is the highest level of service in MQTT. This level guarantees that each message is received only once by the intended recipients. QoS 2 is the safest and slowest quality of service level.</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>retain A retained message is a normal MQTT message with the retained flag set to true (= 1). The broker stores the last retained message and the corresponding QoS for that topic. See <a class="el" href="EspATMQTT_8h.html#aeb74fb65cde0c75e6acd3c4dc2bb6fc9" title="A retained message is a normal MQTT message with the retained flag set to true.">mqtt_retain_e</a> for more details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="abf4ce3e31c7ee2b92bd2ab6b086e6614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf4ce3e31c7ee2b92bd2ab6b086e6614">&#9670;&nbsp;</a></span>pubString() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::pubString </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>qos</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>retain</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a string to a specified topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>topic The topic where the message shold be published.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>message The message that should be published to the specified topic.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>qos The Quality of Service value that should be used for this message.<br  />
 The following values are recognized:<br  />
<ul>
<li>0 - At most once:<br  />
The minimal QoS level is zero. This service level guarantees a best-effort delivery. There is no guarantee of delivery. The recipient does not acknowledge receipt of the message and the message is not stored and re-transmitted by the sender. QoS level 0 is often called “fire and forget” and provides the same guarantee as the underlying TCP protocol.</li>
<li>1 - At least once:<br  />
QoS level 1 guarantees that a message is delivered at least one time to the receiver. The sender stores the message until it gets a PUBACK packet from the receiver that acknowledges receipt of the message. It is possible for a message to be sent or delivered multiple times.</li>
<li>2 - Exactly once:<br  />
QoS 2 is the highest level of service in MQTT. This level guarantees that each message is received only once by the intended recipients. QoS 2 is the safest and slowest quality of service level.</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>retain A retained message is a normal MQTT message with the retained flag set to true (= 1). The broker stores the last retained message and the corresponding QoS for that topic. See <a class="el" href="EspATMQTT_8h.html#aeb74fb65cde0c75e6acd3c4dc2bb6fc9" title="A retained message is a normal MQTT message with the retained flag set to true.">mqtt_retain_e</a> for more details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a8ec75f194b7cbb49180c37db02614f51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ec75f194b7cbb49180c37db02614f51">&#9670;&nbsp;</a></span>pubString() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::pubString </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>qos</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>retain</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish a string to a specified topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>topic The topic where the message shold be published.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>message The message that should be published to the specified topic.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>qos The Quality of Service value that should be used for this message.<br  />
 The following values are recognized:<br  />
<ul>
<li>0 - At most once:<br  />
The minimal QoS level is zero. This service level guarantees a best-effort delivery. There is no guarantee of delivery. The recipient does not acknowledge receipt of the message and the message is not stored and re-transmitted by the sender. QoS level 0 is often called “fire and forget” and provides the same guarantee as the underlying TCP protocol.</li>
<li>1 - At least once:<br  />
QoS level 1 guarantees that a message is delivered at least one time to the receiver. The sender stores the message until it gets a PUBACK packet from the receiver that acknowledges receipt of the message. It is possible for a message to be sent or delivered multiple times.</li>
<li>2 - Exactly once:<br  />
QoS 2 is the highest level of service in MQTT. This level guarantees that each message is received only once by the intended recipients. QoS 2 is the safest and slowest quality of service level.</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>retain A retained message is a normal MQTT message with the retained flag set to true (= 1). The broker stores the last retained message and the corresponding QoS for that topic. See <a class="el" href="EspATMQTT_8h.html#aeb74fb65cde0c75e6acd3c4dc2bb6fc9" title="A retained message is a normal MQTT message with the retained flag set to true.">mqtt_retain_e</a> for more details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="ad66a3c2c376eaeac2764e76447a6d126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad66a3c2c376eaeac2764e76447a6d126">&#9670;&nbsp;</a></span>setALPN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::setALPN </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>alpn1</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>alpn2</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>alpn3</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>alpn4</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>alpn5</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the ALPN (Application Layer Protocol Negotiation) of the link. </p>
<p>Up to 5 different protocols can be specified in one command. If no protocol is specified the ESP-AT stack will clear out all active ALPNs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>alpn1-alpn5 ALPN specifier. For instance Amazon uses "x-amzn-mqtt-ca".<br  />
 Other service providers will be using different protocol names and the user need to change this accordingly.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a372b1a4bb5d918ca75ddeb62e3ecd0c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372b1a4bb5d918ca75ddeb62e3ecd0c1">&#9670;&nbsp;</a></span>setClientID() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::setClientID </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a new client ID for the connection. </p>
<p>This method must be called after performing a userConfig but before connecting to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>clientID A string that uniquely identifies the client to the broker. In the current version of the ESP-AT fw there is a limitation of 256 characters for the entire AT command which means that you can only have a clientID here of up to 236 characters.<br  />
If you need all 256 characters that is supported you need to set this in the userConfig command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a29f7f85c5e9e79395672f57f09d38513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29f7f85c5e9e79395672f57f09d38513">&#9670;&nbsp;</a></span>setClientID() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::setClientID </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a new client ID for the connection. </p>
<p>This method must be called after performing a userConfig but before connecting to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>clientID A string that uniquely identifies the client to the broker. In the current version of the ESP-AT fw there is a limitation of 256 characters for the entire AT command which means that you can only have a clientID here of up to 236 characters.<br  />
If you need all 256 characters that is supported you need to set this in the userConfig command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a6c7a8d401b869c1034f07de14660714d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c7a8d401b869c1034f07de14660714d">&#9670;&nbsp;</a></span>setPassword() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::setPassword </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the password used in authenticating the client with the broker. </p>
<p>This method must be called after performing a userConfig but before connecting to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>password A string that holds the password used for the authentication. In the current version of the ESP-AT fw there is a limitation of 256 characters for the entire AT command which means that you can only have a clientID here of up to 236 characters.<br  />
If you need all 256 characters that is supported you need to set this in the userConfig command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="aed53237de600fa142eef5e00c18f7dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed53237de600fa142eef5e00c18f7dd2">&#9670;&nbsp;</a></span>setPassword() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::setPassword </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the password used in authenticating the client with the broker. </p>
<p>This method must be called after performing a userConfig but before connecting to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>password A string that holds the password used for the authentication. In the current version of the ESP-AT fw there is a limitation of 256 characters for the entire AT command which means that you can only have a clientID here of up to 236 characters.<br  />
If you need all 256 characters that is supported you need to set this in the userConfig command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="aef5cb29eef50a62528bd726dadf95dfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef5cb29eef50a62528bd726dadf95dfd">&#9670;&nbsp;</a></span>setUsername() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::setUsername </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>username</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the username used in authenticating the client with the broker. </p>
<p>This method must be called after performing a userConfig but before connecting to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>username A string that holds the username used for the authentication. In the current version of the ESP-AT fw there is a limitation of 256 characters for the entire AT command which means that you can only have a clientID here of up to 236 characters.<br  />
If you need all 256 characters that is supported you need to set this in the userConfig command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="aee2d17760f726282b1f0755d29d26bb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2d17760f726282b1f0755d29d26bb9">&#9670;&nbsp;</a></span>setUsername() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::setUsername </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>username</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the username used in authenticating the client with the broker. </p>
<p>This method must be called after performing a userConfig but before connecting to the broker.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>username A string that holds the username used for the authentication. In the current version of the ESP-AT fw there is a limitation of 256 characters for the entire AT command which means that you can only have a clientID here of up to 236 characters.<br  />
If you need all 256 characters that is supported you need to set this in the userConfig command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="aa2f1a5b91e663381da3dedfd5fe1b47f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f1a5b91e663381da3dedfd5fe1b47f">&#9670;&nbsp;</a></span>subscribeTopic() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::subscribeTopic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="EspATMQTT_8h.html#af7cb6dd5ee13867fe8cf3b40b0ef2ac7">subscription_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>qos</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe to messages from a specific topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>topic The topic for which we are listening to.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>qos The Quality of Service value that should be used for this message.<br  />
 The following values are recognized:<br  />
<ul>
<li>0 - At most once:<br  />
The minimal QoS level is zero. This service level guarantees a best-effort delivery. There is no guarantee of delivery. The recipient does not acknowledge receipt of the message and the message is not stored and re-transmitted by the sender. QoS level 0 is often called “fire and forget” and provides the same guarantee as the underlying TCP protocol.</li>
<li>1 - At least once:<br  />
QoS level 1 guarantees that a message is delivered at least one time to the receiver. The sender stores the message until it gets a PUBACK packet from the receiver that acknowledges receipt of the message. It is possible for a message to be sent or delivered multiple times.</li>
<li>2 - Exactly once:<br  />
QoS 2 is the highest level of service in MQTT. This level guarantees that each message is received only once by the intended recipients. QoS 2 is the safest and slowest quality of service level.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a806a4a6b9d83342faa74119673495c47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a806a4a6b9d83342faa74119673495c47">&#9670;&nbsp;</a></span>subscribeTopic() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::subscribeTopic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="EspATMQTT_8h.html#af7cb6dd5ee13867fe8cf3b40b0ef2ac7">subscription_cb_t</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>qos</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe to messages from a specific topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>topic The topic for which we are listening to.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>qos The Quality of Service value that should be used for this message.<br  />
 The following values are recognized:<br  />
<ul>
<li>0 - At most once:<br  />
The minimal QoS level is zero. This service level guarantees a best-effort delivery. There is no guarantee of delivery. The recipient does not acknowledge receipt of the message and the message is not stored and re-transmitted by the sender. QoS level 0 is often called “fire and forget” and provides the same guarantee as the underlying TCP protocol.</li>
<li>1 - At least once:<br  />
QoS level 1 guarantees that a message is delivered at least one time to the receiver. The sender stores the message until it gets a PUBACK packet from the receiver that acknowledges receipt of the message. It is possible for a message to be sent or delivered multiple times.</li>
<li>2 - Exactly once:<br  />
QoS 2 is the highest level of service in MQTT. This level guarantees that each message is received only once by the intended recipients. QoS 2 is the safest and slowest quality of service level.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="aabf1e9b9a591e154451130b35489ae95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabf1e9b9a591e154451130b35489ae95">&#9670;&nbsp;</a></span>unSubscribeTopic() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::unSubscribeTopic </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>topic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribe from messages with a specific topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>topic The topic that should be unsubscribed from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="a41fad78c34bbd86176eef929be9c4685"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41fad78c34bbd86176eef929be9c4685">&#9670;&nbsp;</a></span>unSubscribeTopic() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::unSubscribeTopic </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribe from messages with a specific topic. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>topic The topic that should be unsubscribed from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="ab6600503df7e04f882ff7571a3207446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6600503df7e04f882ff7571a3207446">&#9670;&nbsp;</a></span>userConfig() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::userConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mqtt_scheme_t&#160;</td>
          <td class="paramname"><em>scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>userName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>certKeyID</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>caID</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the connection scheme and how to connect to the server/broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>scheme Specifies what security scheme that ius used when connecting to the broker. See <a class="el" href="EspATMQTT_8h.html#a358bb63a2641aef322dde4dfa36c69e4" title="MQTT configuration schemes.">mqtt_scheme_e</a> for more details.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>clientID The client ID is a string identifier that uniquely identifies the client.<br  />
Maximum length is 256 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>userName The user name is used to login to the requested broker.<br  />
 Maxmium length of this is 64 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>password The password is used to login to the requested broker.<br  />
 Maxmium length of this is 64 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>certKeyID This is an index to the client certificate key. With the current ESP-AT firmware (V2.4.0.0) this only supports one key with index 0.<br  />
 Future versions may support more than one client certificate so this can change and the API fully supports this.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>caID This is an index to the CA root certificate. With the current ESP-AT firmware (V2.4.0.0) this only supports one key with index 0.<br  />
 Future versions may support more than one client certificate so this can change and the API fully supports this.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>path At this point we don't know exactly what this parameter is for. It might be a preparation to support cert/key/ca in the file system but ther is no information about this from Espressif.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="aa16710ca14260976f0b1b7db39da34d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16710ca14260976f0b1b7db39da34d1">&#9670;&nbsp;</a></span>userConfig() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::userConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mqtt_scheme_t&#160;</td>
          <td class="paramname"><em>scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>userName</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>certKeyID</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>caID</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the connection scheme and how to connect to the server/broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>scheme Specifies what security scheme that ius used when connecting to the broker. See <a class="el" href="EspATMQTT_8h.html#a358bb63a2641aef322dde4dfa36c69e4" title="MQTT configuration schemes.">mqtt_scheme_e</a> for more details.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>clientID The client ID is a string identifier that uniquely identifies the client.<br  />
Maximum length is 256 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>userName The user name is used to login to the requested broker.<br  />
 Maxmium length of this is 64 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>password The password is used to login to the requested broker.<br  />
 Maxmium length of this is 64 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>certKeyID This is an index to the client certificate key. With the current ESP-AT firmware (V2.4.0.0) this only supports one key with index 0.<br  />
 Future versions may support more than one client certificate so this can change and the API fully supports this.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>caID This is an index to the CA root certificate. With the current ESP-AT firmware (V2.4.0.0) this only supports one key with index 0.<br  />
 Future versions may support more than one client certificate so this can change and the API fully supports this.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>path At this point we don't know exactly what this parameter is for. It might be a preparation to support cert/key/ca in the file system but ther is no information about this from Espressif.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<a id="aebd4ec0e4036b283d911e9b4c4de7e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebd4ec0e4036b283d911e9b4c4de7e91">&#9670;&nbsp;</a></span>userConfig() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="EspATMQTT_8h.html#aa29c13469d99defe0c7279598192f7d8">mqtt_status_t</a> EspATMQTT::userConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>linkID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mqtt_scheme_t&#160;</td>
          <td class="paramname"><em>scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>userName</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>certKeyID</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>caID</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup the connection scheme and how to connect to the server/broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>linkID The link ID used for this connection. Only linkID 0 is currently supported by the ESP-AT stack.<br  />
Using the library DEFAULT_LINK_ID will make it easy to migrate if this changes in the future.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>scheme Specifies what security scheme that ius used when connecting to the broker. See <a class="el" href="EspATMQTT_8h.html#a358bb63a2641aef322dde4dfa36c69e4" title="MQTT configuration schemes.">mqtt_scheme_e</a> for more details.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>clientID The client ID is a string identifier that uniquely identifies the client.<br  />
Maximum length is 256 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>userName The user name is used to login to the requested broker.<br  />
 Maxmium length of this is 64 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>password The password is used to login to the requested broker.<br  />
 Maxmium length of this is 64 characters.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>certKeyID This is an index to the client certificate key. With the current ESP-AT firmware (V2.4.0.0) this only supports one key with index 0.<br  />
 Future versions may support more than one client certificate so this can change and the API fully supports this.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>caID This is an index to the CA root certificate. With the current ESP-AT firmware (V2.4.0.0) this only supports one key with index 0.<br  />
 Future versions may support more than one client certificate so this can change and the API fully supports this.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">-</td><td>path At this point we don't know exactly what this parameter is for. It might be a preparation to support cert/key/ca in the file system but ther is no information about this from Espressif.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- The status of the operation, See <a class="el" href="EspATMQTT_8h.html#a2796c57b81b8146732eecabb213554d0" title="The caller should use these error codes to determine the cause of an MQTT error.">mqtt_error_e</a> and <a class="el" href="AT_8h.html#a796b7f69ede31ae39a12a24208c20701" title="Status codes that the AT handler can return.">status_code_e</a> for more information. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="EspATMQTT_8h_source.html">EspATMQTT.h</a></li>
<li>src/EspATMQTT.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
